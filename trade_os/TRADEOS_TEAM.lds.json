{
  "_lds": {
    "uuid": "tradeos-team-2026-001",
    "type": "ui_component",
    "version": "1.0.0",
    "created": "2026-01-14T04:00:00Z",
    "parent": "tradeos-master-2026-001",
    "phase": 6,
    "sequence": 1
  },
  "core": {
    "name": "TradeOS Team",
    "description": "Employee profiles, certifications, training tracking, and time-off management.",
    "principle": "Admin can user:create, user:delete. Office can view:team. Employees can timeoff:request."
  },
  "features": {
    "employee_profiles": "Complete employee profiles with photos and contact info",
    "certifications": "Track licenses and certifications with expiration alerts",
    "training": "Training history and upcoming course scheduling",
    "time_off": "Time-off request workflow with approval",
    "performance": "Performance metrics and job completion stats",
    "payroll_view": "Hours worked and pay rate summary"
  },
  "react_component": {
    "filename": "Team.tsx",
    "code": "import React, { useState, useCallback } from 'react';\nimport { Users, User, Award, BookOpen, Calendar, Clock, DollarSign, Plus, X, AlertTriangle, CheckCircle2, Mail, Phone, MapPin, Shield, Star, TrendingUp, FileText, Edit, ChevronRight } from 'lucide-react';\nimport { useKernel } from './LDSKernel';\n\ntype EmployeeRole = 'admin' | 'office' | 'field_tech';\ntype EmployeeStatus = 'active' | 'inactive' | 'on_leave';\ntype TimeOffStatus = 'pending' | 'approved' | 'denied';\ntype CertStatus = 'valid' | 'expiring' | 'expired';\n\ninterface Certification {\n  id: string;\n  name: string;\n  issuer: string;\n  number: string;\n  issueDate: string;\n  expiryDate: string;\n  status: CertStatus;\n}\n\ninterface Training {\n  id: string;\n  name: string;\n  provider: string;\n  completedDate?: string;\n  scheduledDate?: string;\n  status: 'completed' | 'scheduled' | 'required';\n  hours: number;\n}\n\ninterface TimeOffRequest {\n  id: string;\n  employeeId: string;\n  employeeName: string;\n  type: 'vacation' | 'sick' | 'personal' | 'other';\n  startDate: string;\n  endDate: string;\n  days: number;\n  reason: string;\n  status: TimeOffStatus;\n  submittedDate: string;\n  reviewedBy?: string;\n  reviewedDate?: string;\n}\n\ninterface Employee {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone: string;\n  address: string;\n  role: EmployeeRole;\n  status: EmployeeStatus;\n  hireDate: string;\n  department: string;\n  hourlyRate: number;\n  hoursThisWeek: number;\n  hoursThisMonth: number;\n  jobsCompleted: number;\n  avgRating: number;\n  certifications: Certification[];\n  training: Training[];\n  ptoBalance: number;\n  sickBalance: number;\n}\n\nconst EMPLOYEES: Employee[] = [\n  {\n    id: 'emp-1', firstName: 'Mike', lastName: 'Johnson', email: 'mike@tradeos.com', phone: '(215) 555-0101', address: '123 Tech Lane, Philadelphia, PA',\n    role: 'field_tech', status: 'active', hireDate: '2022-03-15', department: 'HVAC', hourlyRate: 32.50, hoursThisWeek: 42, hoursThisMonth: 168,\n    jobsCompleted: 847, avgRating: 4.9, ptoBalance: 12, sickBalance: 5,\n    certifications: [\n      { id: 'cert-1', name: 'EPA 608 Universal', issuer: 'EPA', number: 'EPA-2022-45678', issueDate: '2022-04-01', expiryDate: '2027-04-01', status: 'valid' },\n      { id: 'cert-2', name: 'NATE HVAC', issuer: 'NATE', number: 'NATE-78542', issueDate: '2023-06-15', expiryDate: '2026-06-15', status: 'valid' },\n      { id: 'cert-3', name: 'PA Contractor License', issuer: 'PA State', number: 'PA-HC-12345', issueDate: '2022-01-01', expiryDate: '2026-01-31', status: 'expiring' }\n    ],\n    training: [\n      { id: 'tr-1', name: 'Carrier Equipment Training', provider: 'Carrier', completedDate: '2025-11-15', status: 'completed', hours: 8 },\n      { id: 'tr-2', name: 'Heat Pump Advanced', provider: 'HVAC Academy', scheduledDate: '2026-02-10', status: 'scheduled', hours: 16 }\n    ]\n  },\n  {\n    id: 'emp-2', firstName: 'Sarah', lastName: 'Williams', email: 'sarah@tradeos.com', phone: '(215) 555-0102', address: '456 Office Blvd, Philadelphia, PA',\n    role: 'office', status: 'active', hireDate: '2021-08-01', department: 'Operations', hourlyRate: 28.00, hoursThisWeek: 40, hoursThisMonth: 160,\n    jobsCompleted: 0, avgRating: 0, ptoBalance: 15, sickBalance: 6,\n    certifications: [],\n    training: [\n      { id: 'tr-3', name: 'Customer Service Excellence', provider: 'Internal', completedDate: '2025-09-01', status: 'completed', hours: 4 }\n    ]\n  },\n  {\n    id: 'emp-3', firstName: 'James', lastName: 'Martinez', email: 'james@tradeos.com', phone: '(215) 555-0103', address: '789 Field St, Philadelphia, PA',\n    role: 'field_tech', status: 'active', hireDate: '2023-01-10', department: 'Plumbing', hourlyRate: 30.00, hoursThisWeek: 38, hoursThisMonth: 152,\n    jobsCompleted: 389, avgRating: 4.7, ptoBalance: 8, sickBalance: 4,\n    certifications: [\n      { id: 'cert-4', name: 'PA Plumbing License', issuer: 'PA State', number: 'PA-PL-67890', issueDate: '2023-02-01', expiryDate: '2026-02-01', status: 'expiring' },\n      { id: 'cert-5', name: 'Backflow Prevention', issuer: 'ABPA', number: 'ABPA-2023-111', issueDate: '2023-03-15', expiryDate: '2026-03-15', status: 'valid' }\n    ],\n    training: [\n      { id: 'tr-4', name: 'Tankless Water Heater Install', provider: 'Rinnai', completedDate: '2025-10-20', status: 'completed', hours: 8 },\n      { id: 'tr-5', name: 'Lead Safety', provider: 'EPA', status: 'required', hours: 8 }\n    ]\n  },\n  {\n    id: 'emp-4', firstName: 'Emily', lastName: 'Chen', email: 'emily@tradeos.com', phone: '(215) 555-0104', address: '321 Admin Ave, Philadelphia, PA',\n    role: 'admin', status: 'active', hireDate: '2020-05-01', department: 'Management', hourlyRate: 45.00, hoursThisWeek: 45, hoursThisMonth: 180,\n    jobsCompleted: 0, avgRating: 0, ptoBalance: 20, sickBalance: 8,\n    certifications: [],\n    training: []\n  },\n  {\n    id: 'emp-5', firstName: 'David', lastName: 'Brown', email: 'david@tradeos.com', phone: '(215) 555-0105', address: '654 Elm Rd, Philadelphia, PA',\n    role: 'field_tech', status: 'on_leave', hireDate: '2024-06-15', department: 'Electrical', hourlyRate: 35.00, hoursThisWeek: 0, hoursThisMonth: 80,\n    jobsCompleted: 156, avgRating: 4.8, ptoBalance: 3, sickBalance: 2,\n    certifications: [\n      { id: 'cert-6', name: 'PA Electrician License', issuer: 'PA State', number: 'PA-EL-54321', issueDate: '2024-07-01', expiryDate: '2027-07-01', status: 'valid' }\n    ],\n    training: []\n  }\n];\n\nconst TIME_OFF_REQUESTS: TimeOffRequest[] = [\n  { id: 'pto-1', employeeId: 'emp-1', employeeName: 'Mike Johnson', type: 'vacation', startDate: '2026-02-15', endDate: '2026-02-22', days: 5, reason: 'Family vacation', status: 'pending', submittedDate: '2026-01-10' },\n  { id: 'pto-2', employeeId: 'emp-3', employeeName: 'James Martinez', type: 'personal', startDate: '2026-01-20', endDate: '2026-01-20', days: 1, reason: 'Appointment', status: 'approved', submittedDate: '2026-01-08', reviewedBy: 'Emily Chen', reviewedDate: '2026-01-09' },\n  { id: 'pto-3', employeeId: 'emp-5', employeeName: 'David Brown', type: 'sick', startDate: '2026-01-13', endDate: '2026-01-17', days: 5, reason: 'Medical leave', status: 'approved', submittedDate: '2026-01-12', reviewedBy: 'Emily Chen', reviewedDate: '2026-01-12' }\n];\n\nconst ROLE_CONFIG: Record<EmployeeRole, { label: string; color: string }> = {\n  admin: { label: 'Admin', color: 'text-purple-600 bg-purple-100' },\n  office: { label: 'Office', color: 'text-blue-600 bg-blue-100' },\n  field_tech: { label: 'Field Tech', color: 'text-green-600 bg-green-100' }\n};\n\nconst STATUS_CONFIG: Record<EmployeeStatus, { label: string; color: string }> = {\n  active: { label: 'Active', color: 'text-green-600 bg-green-100' },\n  inactive: { label: 'Inactive', color: 'text-slate-600 bg-slate-100' },\n  on_leave: { label: 'On Leave', color: 'text-amber-600 bg-amber-100' }\n};\n\ntype ViewMode = 'directory' | 'certifications' | 'training' | 'time_off' | 'payroll';\n\nexport const Team: React.FC = () => {\n  const { validate, role } = useKernel();\n  const [viewMode, setViewMode] = useState<ViewMode>('directory');\n  const [employees] = useState<Employee[]>(EMPLOYEES);\n  const [timeOffRequests, setTimeOffRequests] = useState<TimeOffRequest[]>(TIME_OFF_REQUESTS);\n  const [selectedEmployee, setSelectedEmployee] = useState<Employee | null>(null);\n  const [showAddEmployee, setShowAddEmployee] = useState(false);\n  const [showTimeOffRequest, setShowTimeOffRequest] = useState(false);\n\n  const handleAddEmployee = useCallback(() => {\n    const result = validate('user:create', { authenticated: true, mfa_verified: true });\n    if (result.result !== 'ALLOWED') {\n      alert(`Add employee denied: ${result.reason}`);\n      return;\n    }\n    setShowAddEmployee(true);\n  }, [validate]);\n\n  const handleApproveTimeOff = useCallback((requestId: string, approved: boolean) => {\n    const result = validate('timeoff:approve', { authenticated: true });\n    if (result.result !== 'ALLOWED') {\n      alert(`Approve denied: ${result.reason}`);\n      return;\n    }\n    setTimeOffRequests(prev => prev.map(r => r.id === requestId ? { ...r, status: approved ? 'approved' : 'denied', reviewedBy: 'Current User', reviewedDate: new Date().toISOString().split('T')[0] } : r));\n  }, [validate]);\n\n  const expiringCerts = employees.flatMap(e => e.certifications.filter(c => c.status === 'expiring' || c.status === 'expired'));\n  const pendingRequests = timeOffRequests.filter(r => r.status === 'pending').length;\n  const activeEmployees = employees.filter(e => e.status === 'active').length;\n  const totalHoursWeek = employees.reduce((s, e) => s + e.hoursThisWeek, 0);\n\n  const DirectoryView = () => (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\n          <p className=\"text-sm text-slate-500\">Active Employees</p>\n          <p className=\"text-2xl font-bold text-slate-800\">{activeEmployees}</p>\n        </div>\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\n          <p className=\"text-sm text-slate-500\">Field Techs</p>\n          <p className=\"text-2xl font-bold text-slate-800\">{employees.filter(e => e.role === 'field_tech').length}</p>\n        </div>\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\n          <p className=\"text-sm text-slate-500\">Hours This Week</p>\n          <p className=\"text-2xl font-bold text-slate-800\">{totalHoursWeek}</p>\n        </div>\n        <div className=\"bg-white rounded-xl border border-amber-200 p-4\">\n          <p className=\"text-sm text-amber-600\">Certs Expiring</p>\n          <p className=\"text-2xl font-bold text-amber-600\">{expiringCerts.length}</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-1 space-y-3\">\n          {employees.map((emp) => {\n            const roleConf = ROLE_CONFIG[emp.role];\n            const statusConf = STATUS_CONFIG[emp.status];\n            return (\n              <div key={emp.id} onClick={() => setSelectedEmployee(emp)} className={`bg-white rounded-xl border p-4 cursor-pointer transition-all hover:border-slate-300 ${selectedEmployee?.id === emp.id ? 'border-orange-500 ring-2 ring-orange-200' : 'border-slate-200'}`}>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-12 h-12 rounded-full bg-slate-200 flex items-center justify-center text-lg font-bold text-slate-600\">{emp.firstName[0]}{emp.lastName[0]}</div>\n                  <div className=\"flex-1\">\n                    <p className=\"font-semibold text-slate-800\">{emp.firstName} {emp.lastName}</p>\n                    <div className=\"flex items-center gap-2 mt-1\">\n                      <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${roleConf.color}`}>{roleConf.label}</span>\n                      <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${statusConf.color}`}>{statusConf.label}</span>\n                    </div>\n                  </div>\n                </div>\n                {emp.role === 'field_tech' && (\n                  <div className=\"mt-3 pt-3 border-t border-slate-100 flex items-center justify-between text-sm\">\n                    <span className=\"text-slate-500\">{emp.jobsCompleted} jobs</span>\n                    <div className=\"flex items-center gap-1\"><Star className=\"w-4 h-4 text-amber-400 fill-current\" /><span className=\"font-medium\">{emp.avgRating}</span></div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n\n        {selectedEmployee ? (\n          <div className=\"lg:col-span-2 bg-white rounded-xl border border-slate-200 overflow-hidden\">\n            <div className=\"p-4 border-b border-slate-100 bg-slate-50\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center text-2xl font-bold text-slate-600\">{selectedEmployee.firstName[0]}{selectedEmployee.lastName[0]}</div>\n                <div>\n                  <h2 className=\"text-xl font-bold text-slate-800\">{selectedEmployee.firstName} {selectedEmployee.lastName}</h2>\n                  <p className=\"text-slate-500\">{selectedEmployee.department}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-4 space-y-6\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"flex items-center gap-2 text-sm\"><Mail className=\"w-4 h-4 text-slate-400\" /><span className=\"text-slate-700\">{selectedEmployee.email}</span></div>\n                <div className=\"flex items-center gap-2 text-sm\"><Phone className=\"w-4 h-4 text-slate-400\" /><span className=\"text-slate-700\">{selectedEmployee.phone}</span></div>\n                <div className=\"flex items-center gap-2 text-sm\"><MapPin className=\"w-4 h-4 text-slate-400\" /><span className=\"text-slate-700\">{selectedEmployee.address}</span></div>\n                <div className=\"flex items-center gap-2 text-sm\"><Calendar className=\"w-4 h-4 text-slate-400\" /><span className=\"text-slate-700\">Hired: {selectedEmployee.hireDate}</span></div>\n              </div>\n\n              {selectedEmployee.role === 'field_tech' && (\n                <div className=\"grid grid-cols-4 gap-4\">\n                  <div className=\"p-3 bg-slate-50 rounded-lg text-center\"><p className=\"text-2xl font-bold text-slate-800\">{selectedEmployee.jobsCompleted}</p><p className=\"text-xs text-slate-500\">Jobs</p></div>\n                  <div className=\"p-3 bg-slate-50 rounded-lg text-center\"><p className=\"text-2xl font-bold text-slate-800\">{selectedEmployee.avgRating}</p><p className=\"text-xs text-slate-500\">Rating</p></div>\n                  <div className=\"p-3 bg-slate-50 rounded-lg text-center\"><p className=\"text-2xl font-bold text-slate-800\">{selectedEmployee.hoursThisWeek}</p><p className=\"text-xs text-slate-500\">Hrs/Week</p></div>\n                  <div className=\"p-3 bg-slate-50 rounded-lg text-center\"><p className=\"text-2xl font-bold text-slate-800\">{selectedEmployee.hoursThisMonth}</p><p className=\"text-xs text-slate-500\">Hrs/Month</p></div>\n                </div>\n              )}\n\n              {selectedEmployee.certifications.length > 0 && (\n                <div>\n                  <h3 className=\"font-semibold text-slate-800 mb-3 flex items-center gap-2\"><Award className=\"w-4 h-4\" /> Certifications</h3>\n                  <div className=\"space-y-2\">\n                    {selectedEmployee.certifications.map((cert) => (\n                      <div key={cert.id} className={`p-3 rounded-lg border ${cert.status === 'expiring' ? 'border-amber-200 bg-amber-50' : cert.status === 'expired' ? 'border-red-200 bg-red-50' : 'border-slate-200 bg-slate-50'}`}>\n                        <div className=\"flex items-center justify-between\">\n                          <div><p className=\"font-medium text-slate-800\">{cert.name}</p><p className=\"text-sm text-slate-500\">{cert.issuer} • {cert.number}</p></div>\n                          <div className=\"text-right\"><p className=\"text-sm text-slate-600\">Expires: {cert.expiryDate}</p>{cert.status !== 'valid' && <p className={`text-xs font-medium ${cert.status === 'expiring' ? 'text-amber-600' : 'text-red-600'}`}>{cert.status.toUpperCase()}</p>}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              <div className=\"grid grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg\">\n                <div><p className=\"text-sm text-blue-600\">PTO Balance</p><p className=\"text-xl font-bold text-blue-800\">{selectedEmployee.ptoBalance} days</p></div>\n                <div><p className=\"text-sm text-blue-600\">Sick Balance</p><p className=\"text-xl font-bold text-blue-800\">{selectedEmployee.sickBalance} days</p></div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"lg:col-span-2 bg-white rounded-xl border border-slate-200 flex items-center justify-center h-96\">\n            <div className=\"text-center text-slate-500\"><User className=\"w-12 h-12 mx-auto mb-2 text-slate-300\" /><p>Select an employee to view details</p></div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  const CertificationsView = () => (\n    <div className=\"space-y-6\">\n      {expiringCerts.length > 0 && (\n        <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4\">\n          <div className=\"flex items-center gap-2 mb-3\"><AlertTriangle className=\"w-5 h-5 text-amber-600\" /><h3 className=\"font-semibold text-amber-800\">Expiring/Expired Certifications</h3></div>\n          <div className=\"space-y-2\">\n            {employees.flatMap(emp => emp.certifications.filter(c => c.status !== 'valid').map(cert => (\n              <div key={cert.id} className=\"flex items-center justify-between p-3 bg-white rounded-lg border border-amber-200\">\n                <div><p className=\"font-medium text-slate-800\">{cert.name}</p><p className=\"text-sm text-slate-500\">{emp.firstName} {emp.lastName}</p></div>\n                <div className=\"text-right\"><p className=\"text-sm text-slate-600\">Expires: {cert.expiryDate}</p><p className={`text-xs font-medium ${cert.status === 'expiring' ? 'text-amber-600' : 'text-red-600'}`}>{cert.status.toUpperCase()}</p></div>\n              </div>\n            )))}\n          </div>\n        </div>\n      )}\n      <div className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\">\n        <div className=\"p-4 border-b border-slate-100\"><h3 className=\"font-semibold text-slate-800\">All Certifications</h3></div>\n        <table className=\"w-full\">\n          <thead className=\"bg-slate-50\"><tr><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Certification</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Employee</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Number</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Expiry</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Status</th></tr></thead>\n          <tbody className=\"divide-y divide-slate-100\">\n            {employees.flatMap(emp => emp.certifications.map(cert => (\n              <tr key={cert.id} className=\"hover:bg-slate-50\">\n                <td className=\"px-4 py-4\"><p className=\"font-medium text-slate-800\">{cert.name}</p><p className=\"text-sm text-slate-500\">{cert.issuer}</p></td>\n                <td className=\"px-4 py-4 text-slate-700\">{emp.firstName} {emp.lastName}</td>\n                <td className=\"px-4 py-4 text-sm font-mono text-slate-600\">{cert.number}</td>\n                <td className=\"px-4 py-4 text-sm text-slate-600\">{cert.expiryDate}</td>\n                <td className=\"px-4 py-4\"><span className={`px-2 py-1 rounded-full text-xs font-medium ${cert.status === 'valid' ? 'bg-green-100 text-green-700' : cert.status === 'expiring' ? 'bg-amber-100 text-amber-700' : 'bg-red-100 text-red-700'}`}>{cert.status}</span></td>\n              </tr>\n            )))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const TrainingView = () => (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\n          <h3 className=\"font-semibold text-slate-800 mb-4 flex items-center gap-2\"><BookOpen className=\"w-4 h-4\" /> Required Training</h3>\n          <div className=\"space-y-3\">\n            {employees.flatMap(emp => emp.training.filter(t => t.status === 'required').map(tr => (\n              <div key={tr.id} className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n                <div className=\"flex items-center justify-between\"><div><p className=\"font-medium text-slate-800\">{tr.name}</p><p className=\"text-sm text-slate-500\">{emp.firstName} {emp.lastName} • {tr.hours} hrs</p></div><span className=\"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full\">Required</span></div>\n              </div>\n            )))}\n            {employees.flatMap(emp => emp.training.filter(t => t.status === 'required')).length === 0 && <p className=\"text-slate-500 text-center py-4\">No required training</p>}\n          </div>\n        </div>\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\n          <h3 className=\"font-semibold text-slate-800 mb-4 flex items-center gap-2\"><Calendar className=\"w-4 h-4\" /> Scheduled Training</h3>\n          <div className=\"space-y-3\">\n            {employees.flatMap(emp => emp.training.filter(t => t.status === 'scheduled').map(tr => (\n              <div key={tr.id} className=\"p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                <div className=\"flex items-center justify-between\"><div><p className=\"font-medium text-slate-800\">{tr.name}</p><p className=\"text-sm text-slate-500\">{emp.firstName} {emp.lastName} • {tr.provider}</p></div><div className=\"text-right\"><p className=\"text-sm font-medium text-blue-600\">{tr.scheduledDate}</p><p className=\"text-xs text-slate-500\">{tr.hours} hrs</p></div></div>\n              </div>\n            )))}\n          </div>\n        </div>\n      </div>\n      <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\n        <h3 className=\"font-semibold text-slate-800 mb-4\">Completed Training</h3>\n        <div className=\"space-y-2\">\n          {employees.flatMap(emp => emp.training.filter(t => t.status === 'completed').map(tr => (\n            <div key={tr.id} className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\">\n              <div className=\"flex items-center gap-3\"><CheckCircle2 className=\"w-5 h-5 text-green-500\" /><div><p className=\"font-medium text-slate-800\">{tr.name}</p><p className=\"text-sm text-slate-500\">{emp.firstName} {emp.lastName} • {tr.provider}</p></div></div>\n              <div className=\"text-right\"><p className=\"text-sm text-slate-600\">{tr.completedDate}</p><p className=\"text-xs text-slate-500\">{tr.hours} hrs</p></div>\n            </div>\n          )))}\n        </div>\n      </div>\n    </div>\n  );\n\n  const TimeOffView = () => (\n    <div className=\"space-y-6\">\n      {timeOffRequests.filter(r => r.status === 'pending').length > 0 && (\n        <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4\">\n          <h3 className=\"font-semibold text-amber-800 mb-4\">Pending Requests</h3>\n          <div className=\"space-y-3\">\n            {timeOffRequests.filter(r => r.status === 'pending').map(req => (\n              <div key={req.id} className=\"p-4 bg-white rounded-lg border border-amber-200\">\n                <div className=\"flex items-start justify-between\">\n                  <div><p className=\"font-medium text-slate-800\">{req.employeeName}</p><p className=\"text-sm text-slate-600\">{req.type.charAt(0).toUpperCase() + req.type.slice(1)} • {req.days} day(s)</p><p className=\"text-sm text-slate-500\">{req.startDate} - {req.endDate}</p><p className=\"text-sm text-slate-600 mt-2\">\"{req.reason}\"</p></div>\n                  <div className=\"flex gap-2\">\n                    <button onClick={() => handleApproveTimeOff(req.id, true)} className=\"px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm font-medium\">Approve</button>\n                    <button onClick={() => handleApproveTimeOff(req.id, false)} className=\"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm font-medium\">Deny</button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      <div className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\">\n        <div className=\"p-4 border-b border-slate-100 flex items-center justify-between\"><h3 className=\"font-semibold text-slate-800\">All Time Off Requests</h3><button onClick={() => setShowTimeOffRequest(true)} className=\"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex items-center gap-2\"><Plus className=\"w-4 h-4\" /> Request Time Off</button></div>\n        <table className=\"w-full\">\n          <thead className=\"bg-slate-50\"><tr><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Employee</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Type</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Dates</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Days</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Status</th></tr></thead>\n          <tbody className=\"divide-y divide-slate-100\">\n            {timeOffRequests.map(req => (\n              <tr key={req.id} className=\"hover:bg-slate-50\">\n                <td className=\"px-4 py-4 font-medium text-slate-800\">{req.employeeName}</td>\n                <td className=\"px-4 py-4 text-slate-700\">{req.type.charAt(0).toUpperCase() + req.type.slice(1)}</td>\n                <td className=\"px-4 py-4 text-sm text-slate-600\">{req.startDate} - {req.endDate}</td>\n                <td className=\"px-4 py-4 text-slate-700\">{req.days}</td>\n                <td className=\"px-4 py-4\"><span className={`px-2 py-1 rounded-full text-xs font-medium ${req.status === 'approved' ? 'bg-green-100 text-green-700' : req.status === 'pending' ? 'bg-amber-100 text-amber-700' : 'bg-red-100 text-red-700'}`}>{req.status}</span></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const PayrollView = () => (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\">\n        <div className=\"p-4 border-b border-slate-100\"><h3 className=\"font-semibold text-slate-800\">Payroll Summary</h3></div>\n        <table className=\"w-full\">\n          <thead className=\"bg-slate-50\"><tr><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Employee</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Department</th><th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase\">Rate</th><th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase\">Hrs/Week</th><th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase\">Hrs/Month</th><th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase\">Est. Monthly</th></tr></thead>\n          <tbody className=\"divide-y divide-slate-100\">\n            {employees.map(emp => (\n              <tr key={emp.id} className=\"hover:bg-slate-50\">\n                <td className=\"px-4 py-4\"><p className=\"font-medium text-slate-800\">{emp.firstName} {emp.lastName}</p><p className=\"text-sm text-slate-500\">{ROLE_CONFIG[emp.role].label}</p></td>\n                <td className=\"px-4 py-4 text-slate-700\">{emp.department}</td>\n                <td className=\"px-4 py-4 text-right font-medium text-slate-800\">${emp.hourlyRate.toFixed(2)}</td>\n                <td className=\"px-4 py-4 text-right text-slate-700\">{emp.hoursThisWeek}</td>\n                <td className=\"px-4 py-4 text-right text-slate-700\">{emp.hoursThisMonth}</td>\n                <td className=\"px-4 py-4 text-right font-bold text-green-600\">${(emp.hoursThisMonth * emp.hourlyRate).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>\n              </tr>\n            ))}\n          </tbody>\n          <tfoot className=\"bg-slate-50\"><tr><td colSpan={5} className=\"px-4 py-3 text-right font-semibold text-slate-800\">Total Monthly Est.</td><td className=\"px-4 py-3 text-right font-bold text-green-600\">${employees.reduce((s, e) => s + (e.hoursThisMonth * e.hourlyRate), 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td></tr></tfoot>\n        </table>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n        <div><h1 className=\"text-2xl font-bold text-slate-800\">Team</h1><p className=\"text-slate-500\">Employee management and HR</p></div>\n        {role === 'admin' && <button onClick={handleAddEmployee} className=\"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex items-center gap-2\"><Plus className=\"w-4 h-4\" /> Add Employee</button>}\n      </div>\n\n      <div className=\"bg-white rounded-xl border border-slate-200 p-1 inline-flex flex-wrap gap-1\">\n        {[{ id: 'directory', label: 'Directory', icon: <Users className=\"w-4 h-4\" /> },\n          { id: 'certifications', label: 'Certifications', icon: <Award className=\"w-4 h-4\" />, badge: expiringCerts.length },\n          { id: 'training', label: 'Training', icon: <BookOpen className=\"w-4 h-4\" /> },\n          { id: 'time_off', label: 'Time Off', icon: <Calendar className=\"w-4 h-4\" />, badge: pendingRequests },\n          { id: 'payroll', label: 'Payroll', icon: <DollarSign className=\"w-4 h-4\" /> }\n        ].map((v) => (\n          <button key={v.id} onClick={() => setViewMode(v.id as ViewMode)} className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${viewMode === v.id ? 'bg-orange-100 text-orange-700' : 'text-slate-600 hover:text-slate-800'}`}>\n            {v.icon}{v.label}{v.badge && v.badge > 0 && <span className=\"px-1.5 py-0.5 bg-amber-500 text-white text-xs rounded-full\">{v.badge}</span>}\n          </button>\n        ))}\n      </div>\n\n      {viewMode === 'directory' && <DirectoryView />}\n      {viewMode === 'certifications' && <CertificationsView />}\n      {viewMode === 'training' && <TrainingView />}\n      {viewMode === 'time_off' && <TimeOffView />}\n      {viewMode === 'payroll' && <PayrollView />}\n\n      {showAddEmployee && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-2xl w-full max-w-lg mx-4\">\n            <div className=\"p-4 border-b border-slate-200 flex items-center justify-between\"><h3 className=\"font-semibold text-slate-800\">Add Employee</h3><button onClick={() => setShowAddEmployee(false)} className=\"p-2 hover:bg-slate-100 rounded-lg\"><X className=\"w-5 h-5 text-slate-600\" /></button></div>\n            <div className=\"p-4 space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\"><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">First Name</label><input type=\"text\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Last Name</label><input type=\"text\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div></div>\n              <div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Email</label><input type=\"email\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div>\n              <div className=\"grid grid-cols-2 gap-4\"><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Role</label><select className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\"><option>Field Tech</option><option>Office</option><option>Admin</option></select></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Department</label><select className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\"><option>HVAC</option><option>Plumbing</option><option>Electrical</option><option>Operations</option></select></div></div>\n              <div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Hourly Rate</label><input type=\"number\" step=\"0.01\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div>\n              <div className=\"flex gap-3\"><button onClick={() => setShowAddEmployee(false)} className=\"flex-1 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50\">Cancel</button><button onClick={() => { setShowAddEmployee(false); alert('Employee added!'); }} className=\"flex-1 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\">Add Employee</button></div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showTimeOffRequest && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-2xl w-full max-w-lg mx-4\">\n            <div className=\"p-4 border-b border-slate-200 flex items-center justify-between\"><h3 className=\"font-semibold text-slate-800\">Request Time Off</h3><button onClick={() => setShowTimeOffRequest(false)} className=\"p-2 hover:bg-slate-100 rounded-lg\"><X className=\"w-5 h-5 text-slate-600\" /></button></div>\n            <div className=\"p-4 space-y-4\">\n              <div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Type</label><select className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\"><option>Vacation</option><option>Sick</option><option>Personal</option><option>Other</option></select></div>\n              <div className=\"grid grid-cols-2 gap-4\"><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Start Date</label><input type=\"date\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">End Date</label><input type=\"date\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div></div>\n              <div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Reason</label><textarea rows={3} className=\"w-full px-4 py-2 border border-slate-200 rounded-lg resize-none\" /></div>\n              <div className=\"flex gap-3\"><button onClick={() => setShowTimeOffRequest(false)} className=\"flex-1 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50\">Cancel</button><button onClick={() => { setShowTimeOffRequest(false); alert('Request submitted!'); }} className=\"flex-1 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\">Submit Request</button></div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Team;"
  }
}