{
  "_lds": {
    "uuid": "tradeos-inventory-2026-001",
    "type": "ui_component",
    "version": "1.0.0",
    "created": "2026-01-14T04:15:00Z",
    "parent": "tradeos-master-2026-001",
    "phase": 6,
    "sequence": 2
  },
  "core": {
    "name": "TradeOS Inventory",
    "description": "Parts inventory management with warehouse stock, truck inventory, and purchase orders.",
    "principle": "Admin can inventory:delete, po:approve. Office can inventory:update, po:create. Field techs can inventory:use."
  },
  "react_component": {
    "filename": "Inventory.tsx",
    "code": "import React, { useState, useCallback } from 'react';\nimport { Package, Truck, AlertTriangle, ShoppingCart, Building2, Plus, X, Search } from 'lucide-react';\nimport { useKernel } from './LDSKernel';\n\ntype PartCategory = 'hvac' | 'plumbing' | 'electrical' | 'general';\ntype StockStatus = 'in_stock' | 'low_stock' | 'out_of_stock';\ntype POStatus = 'draft' | 'submitted' | 'approved' | 'received' | 'cancelled';\n\ninterface Part { id: string; sku: string; name: string; description: string; category: PartCategory; unitCost: number; sellPrice: number; warehouseQty: number; reorderPoint: number; reorderQty: number; supplier: string; }\ninterface TruckStock { partId: string; partName: string; technicianId: string; technicianName: string; qty: number; minQty: number; }\ninterface Supplier { id: string; name: string; contact: string; email: string; phone: string; address: string; terms: string; leadTime: string; }\ninterface PurchaseOrder { id: string; poNumber: string; supplierId: string; supplierName: string; status: POStatus; createdDate: string; expectedDate?: string; receivedDate?: string; items: { partId: string; partName: string; qty: number; unitCost: number }[]; subtotal: number; tax: number; total: number; notes?: string; }\n\nconst PARTS: Part[] = [\n  { id: 'p1', sku: 'HVAC-CAP-35', name: 'Capacitor 35/5 MFD', description: 'Dual run capacitor', category: 'hvac', unitCost: 12.50, sellPrice: 45.00, warehouseQty: 24, reorderPoint: 10, reorderQty: 50, supplier: 'HVAC Supply Co' },\n  { id: 'p2', sku: 'HVAC-CONT-24', name: 'Contactor 24V 30A', description: 'Single pole contactor', category: 'hvac', unitCost: 18.00, sellPrice: 65.00, warehouseQty: 8, reorderPoint: 10, reorderQty: 25, supplier: 'HVAC Supply Co' },\n  { id: 'p3', sku: 'HVAC-FILT-20', name: 'Filter 20x25x1 MERV 8', description: 'Standard air filter', category: 'hvac', unitCost: 4.50, sellPrice: 18.00, warehouseQty: 150, reorderPoint: 50, reorderQty: 200, supplier: 'FilterDirect' },\n  { id: 'p4', sku: 'PLMB-BALL-12', name: 'Ball Valve 1/2\" Brass', description: 'Full port brass ball valve', category: 'plumbing', unitCost: 8.00, sellPrice: 28.00, warehouseQty: 45, reorderPoint: 20, reorderQty: 50, supplier: 'Plumbing Pros' },\n  { id: 'p5', sku: 'PLMB-FLEX-12', name: 'Flex Supply Line 12\"', description: 'Braided stainless supply', category: 'plumbing', unitCost: 6.50, sellPrice: 22.00, warehouseQty: 3, reorderPoint: 15, reorderQty: 50, supplier: 'Plumbing Pros' },\n  { id: 'p6', sku: 'ELEC-BRKR-20', name: 'Circuit Breaker 20A', description: 'Single pole breaker', category: 'electrical', unitCost: 7.00, sellPrice: 25.00, warehouseQty: 32, reorderPoint: 15, reorderQty: 40, supplier: 'Electric Depot' },\n  { id: 'p7', sku: 'ELEC-OUTL-15', name: 'Outlet 15A Duplex', description: 'Standard duplex outlet', category: 'electrical', unitCost: 1.50, sellPrice: 8.00, warehouseQty: 0, reorderPoint: 25, reorderQty: 100, supplier: 'Electric Depot' },\n  { id: 'p8', sku: 'GENL-TAPE-BK', name: 'Electrical Tape Black', description: '3/4\" x 60ft vinyl tape', category: 'general', unitCost: 2.00, sellPrice: 6.00, warehouseQty: 85, reorderPoint: 30, reorderQty: 100, supplier: 'General Supply' }\n];\n\nconst TRUCK_STOCK: TruckStock[] = [\n  { partId: 'p1', partName: 'Capacitor 35/5 MFD', technicianId: 'emp-1', technicianName: 'Mike Johnson', qty: 4, minQty: 2 },\n  { partId: 'p2', partName: 'Contactor 24V 30A', technicianId: 'emp-1', technicianName: 'Mike Johnson', qty: 2, minQty: 2 },\n  { partId: 'p3', partName: 'Filter 20x25x1', technicianId: 'emp-1', technicianName: 'Mike Johnson', qty: 10, minQty: 5 },\n  { partId: 'p4', partName: 'Ball Valve 1/2\"', technicianId: 'emp-3', technicianName: 'James Martinez', qty: 6, minQty: 4 },\n  { partId: 'p5', partName: 'Flex Supply Line', technicianId: 'emp-3', technicianName: 'James Martinez', qty: 8, minQty: 4 },\n  { partId: 'p6', partName: 'Circuit Breaker 20A', technicianId: 'emp-5', technicianName: 'David Brown', qty: 3, minQty: 4 }\n];\n\nconst SUPPLIERS: Supplier[] = [\n  { id: 's1', name: 'HVAC Supply Co', contact: 'Tom Roberts', email: 'tom@hvacsupply.com', phone: '(215) 555-0201', address: '100 Industrial Way, Philadelphia', terms: 'Net 30', leadTime: '2-3 days' },\n  { id: 's2', name: 'Plumbing Pros', contact: 'Lisa Chen', email: 'lisa@plumbingpros.com', phone: '(215) 555-0202', address: '200 Supply St, Philadelphia', terms: 'Net 15', leadTime: '1-2 days' },\n  { id: 's3', name: 'Electric Depot', contact: 'Mark Wilson', email: 'mark@electricdepot.com', phone: '(215) 555-0203', address: '300 Volt Ave, Philadelphia', terms: 'Net 30', leadTime: '3-5 days' },\n  { id: 's4', name: 'General Supply', contact: 'Sarah Adams', email: 'sarah@gensupply.com', phone: '(215) 555-0204', address: '400 Parts Blvd, Philadelphia', terms: 'COD', leadTime: 'Same day' }\n];\n\nconst POS: PurchaseOrder[] = [\n  { id: 'po1', poNumber: 'PO-2026-001', supplierId: 's1', supplierName: 'HVAC Supply Co', status: 'received', createdDate: '2026-01-05', expectedDate: '2026-01-08', receivedDate: '2026-01-07', items: [{ partId: 'p1', partName: 'Capacitor 35/5 MFD', qty: 50, unitCost: 12.50 }], subtotal: 625, tax: 50, total: 675 },\n  { id: 'po2', poNumber: 'PO-2026-002', supplierId: 's2', supplierName: 'Plumbing Pros', status: 'approved', createdDate: '2026-01-12', expectedDate: '2026-01-15', items: [{ partId: 'p5', partName: 'Flex Supply Line', qty: 50, unitCost: 6.50 }], subtotal: 325, tax: 26, total: 351, notes: 'Urgent' },\n  { id: 'po3', poNumber: 'PO-2026-003', supplierId: 's3', supplierName: 'Electric Depot', status: 'submitted', createdDate: '2026-01-13', items: [{ partId: 'p7', partName: 'Outlet 15A Duplex', qty: 100, unitCost: 1.50 }], subtotal: 150, tax: 12, total: 162 },\n  { id: 'po4', poNumber: 'PO-2026-004', supplierId: 's1', supplierName: 'HVAC Supply Co', status: 'draft', createdDate: '2026-01-14', items: [{ partId: 'p2', partName: 'Contactor 24V 30A', qty: 25, unitCost: 18.00 }], subtotal: 450, tax: 36, total: 486 }\n];\n\nconst CAT_CONF: Record<PartCategory, { label: string; color: string }> = { hvac: { label: 'HVAC', color: 'text-blue-600 bg-blue-100' }, plumbing: { label: 'Plumbing', color: 'text-green-600 bg-green-100' }, electrical: { label: 'Electrical', color: 'text-amber-600 bg-amber-100' }, general: { label: 'General', color: 'text-slate-600 bg-slate-100' } };\nconst PO_CONF: Record<POStatus, { label: string; color: string }> = { draft: { label: 'Draft', color: 'text-slate-600 bg-slate-100' }, submitted: { label: 'Submitted', color: 'text-blue-600 bg-blue-100' }, approved: { label: 'Approved', color: 'text-purple-600 bg-purple-100' }, received: { label: 'Received', color: 'text-green-600 bg-green-100' }, cancelled: { label: 'Cancelled', color: 'text-red-600 bg-red-100' } };\nconst getStatus = (qty: number, reorder: number): StockStatus => qty === 0 ? 'out_of_stock' : qty <= reorder ? 'low_stock' : 'in_stock';\n\ntype ViewMode = 'catalog' | 'truck_stock' | 'purchase_orders' | 'suppliers';\n\nexport const Inventory: React.FC = () => {\n  const { validate, role } = useKernel();\n  const [viewMode, setViewMode] = useState<ViewMode>('catalog');\n  const [parts, setParts] = useState<Part[]>(PARTS);\n  const [purchaseOrders, setPurchaseOrders] = useState<PurchaseOrder[]>(POS);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [catFilter, setCatFilter] = useState<PartCategory | 'all'>('all');\n  const [showAddPart, setShowAddPart] = useState(false);\n  const [showCreatePO, setShowCreatePO] = useState(false);\n  const [selectedPO, setSelectedPO] = useState<PurchaseOrder | null>(null);\n\n  const handleCreatePO = useCallback(() => { const r = validate('po:create', { authenticated: true }); if (r.result !== 'ALLOWED') { alert(`Denied: ${r.reason}`); return; } setShowCreatePO(true); }, [validate]);\n  const handleApprovePO = useCallback((id: string) => { const r = validate('po:approve', { authenticated: true, mfa_verified: true }); if (r.result !== 'ALLOWED') { alert(`Denied: ${r.reason}`); return; } setPurchaseOrders(prev => prev.map(po => po.id === id ? { ...po, status: 'approved' as POStatus } : po)); alert('Approved!'); }, [validate]);\n  const handleReceivePO = useCallback((id: string) => { const r = validate('po:receive', { authenticated: true }); if (r.result !== 'ALLOWED') { alert(`Denied: ${r.reason}`); return; } const po = purchaseOrders.find(p => p.id === id); if (po) { setPurchaseOrders(prev => prev.map(p => p.id === id ? { ...p, status: 'received' as POStatus, receivedDate: new Date().toISOString().split('T')[0] } : p)); setParts(prev => prev.map(part => { const item = po.items.find(i => i.partId === part.id); return item ? { ...part, warehouseQty: part.warehouseQty + item.qty } : part; })); alert('Received!'); } }, [validate, purchaseOrders]);\n\n  const lowStock = parts.filter(p => getStatus(p.warehouseQty, p.reorderPoint) !== 'in_stock');\n  const totalValue = parts.reduce((s, p) => s + (p.warehouseQty * p.unitCost), 0);\n  const pendingPOs = purchaseOrders.filter(po => ['draft', 'submitted', 'approved'].includes(po.status)).length;\n  const filtered = parts.filter(p => (p.name.toLowerCase().includes(searchQuery.toLowerCase()) || p.sku.toLowerCase().includes(searchQuery.toLowerCase())) && (catFilter === 'all' || p.category === catFilter));\n\n  const CatalogView = () => (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\"><p className=\"text-sm text-slate-500\">Total SKUs</p><p className=\"text-2xl font-bold text-slate-800\">{parts.length}</p></div>\n        <div className=\"bg-white rounded-xl border border-green-200 p-4\"><p className=\"text-sm text-green-600\">Inventory Value</p><p className=\"text-2xl font-bold text-green-600\">${totalValue.toFixed(2)}</p></div>\n        <div className=\"bg-white rounded-xl border border-amber-200 p-4\"><p className=\"text-sm text-amber-600\">Low Stock</p><p className=\"text-2xl font-bold text-amber-600\">{lowStock.length}</p></div>\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\"><p className=\"text-sm text-slate-500\">Pending POs</p><p className=\"text-2xl font-bold text-slate-800\">{pendingPOs}</p></div>\n      </div>\n      {lowStock.length > 0 && (<div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4\"><div className=\"flex items-center gap-2 mb-3\"><AlertTriangle className=\"w-5 h-5 text-amber-600\" /><h3 className=\"font-semibold text-amber-800\">Low Stock Alert</h3></div><div className=\"flex flex-wrap gap-2\">{lowStock.map(p => (<span key={p.id} className={`px-3 py-1 rounded-full text-sm font-medium ${p.warehouseQty === 0 ? 'bg-red-100 text-red-700' : 'bg-amber-100 text-amber-700'}`}>{p.name}: {p.warehouseQty}</span>))}</div></div>)}\n      <div className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\">\n        <div className=\"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-4\"><div className=\"flex-1 relative\"><Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400\" /><input type=\"text\" placeholder=\"Search parts...\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} className=\"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg\" /></div><select value={catFilter} onChange={(e) => setCatFilter(e.target.value as PartCategory | 'all')} className=\"px-4 py-2 border border-slate-200 rounded-lg\"><option value=\"all\">All</option>{Object.entries(CAT_CONF).map(([k, c]) => (<option key={k} value={k}>{c.label}</option>))}</select><button onClick={() => setShowAddPart(true)} className=\"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex items-center gap-2\"><Plus className=\"w-4 h-4\" /> Add Part</button></div>\n        <table className=\"w-full\"><thead className=\"bg-slate-50\"><tr><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Part</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">SKU</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Cat</th><th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase\">Cost</th><th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase\">Price</th><th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase\">Qty</th><th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase\">Status</th></tr></thead><tbody className=\"divide-y divide-slate-100\">{filtered.map(p => { const st = getStatus(p.warehouseQty, p.reorderPoint); const cc = CAT_CONF[p.category]; return (<tr key={p.id} className=\"hover:bg-slate-50\"><td className=\"px-4 py-4\"><p className=\"font-medium text-slate-800\">{p.name}</p><p className=\"text-sm text-slate-500\">{p.description}</p></td><td className=\"px-4 py-4 font-mono text-sm text-slate-600\">{p.sku}</td><td className=\"px-4 py-4\"><span className={`px-2 py-1 rounded-full text-xs font-medium ${cc.color}`}>{cc.label}</span></td><td className=\"px-4 py-4 text-right text-slate-700\">${p.unitCost.toFixed(2)}</td><td className=\"px-4 py-4 text-right font-medium text-slate-800\">${p.sellPrice.toFixed(2)}</td><td className=\"px-4 py-4 text-right font-bold text-slate-800\">{p.warehouseQty}</td><td className=\"px-4 py-4\"><span className={`px-2 py-1 rounded-full text-xs font-medium ${st === 'in_stock' ? 'bg-green-100 text-green-700' : st === 'low_stock' ? 'bg-amber-100 text-amber-700' : 'bg-red-100 text-red-700'}`}>{st === 'in_stock' ? 'In Stock' : st === 'low_stock' ? 'Low' : 'Out'}</span></td></tr>); })}</tbody></table>\n      </div>\n    </div>\n  );\n\n  const TruckStockView = () => { const groups = TRUCK_STOCK.reduce((a, t) => { if (!a[t.technicianId]) a[t.technicianId] = { name: t.technicianName, items: [] }; a[t.technicianId].items.push(t); return a; }, {} as Record<string, { name: string; items: TruckStock[] }>); return (<div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">{Object.entries(groups).map(([id, d]) => (<div key={id} className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\"><div className=\"p-4 border-b border-slate-100 bg-slate-50 flex items-center gap-3\"><div className=\"p-2 bg-blue-100 text-blue-600 rounded-lg\"><Truck className=\"w-5 h-5\" /></div><div><p className=\"font-semibold text-slate-800\">{d.name}</p><p className=\"text-sm text-slate-500\">{d.items.length} items</p></div></div><div className=\"p-4 space-y-3\">{d.items.map(i => { const low = i.qty <= i.minQty; return (<div key={`${id}-${i.partId}`} className={`p-3 rounded-lg border ${low ? 'border-amber-200 bg-amber-50' : 'border-slate-200 bg-slate-50'}`}><div className=\"flex items-center justify-between\"><p className=\"font-medium text-slate-800\">{i.partName}</p><div className=\"flex items-center gap-2\"><span className={`font-bold ${low ? 'text-amber-600' : 'text-slate-800'}`}>{i.qty}</span>{low && <AlertTriangle className=\"w-4 h-4 text-amber-500\" />}</div></div><p className=\"text-xs text-slate-500\">Min: {i.minQty}</p></div>); })}<button className=\"w-full py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg\">+ Restock</button></div></div>))}</div>); };\n\n  const POView = () => (<div className=\"space-y-6\"><div className=\"flex items-center justify-between\"><h3 className=\"font-semibold text-slate-800\">Purchase Orders</h3><button onClick={handleCreatePO} className=\"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex items-center gap-2\"><Plus className=\"w-4 h-4\" /> Create PO</button></div><div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\"><div className=\"lg:col-span-1 space-y-3\">{purchaseOrders.map(po => { const sc = PO_CONF[po.status]; return (<div key={po.id} onClick={() => setSelectedPO(po)} className={`bg-white rounded-xl border p-4 cursor-pointer transition-all hover:border-slate-300 ${selectedPO?.id === po.id ? 'border-orange-500 ring-2 ring-orange-200' : 'border-slate-200'}`}><div className=\"flex items-start justify-between mb-2\"><div><p className=\"font-semibold text-slate-800\">{po.poNumber}</p><p className=\"text-sm text-slate-500\">{po.supplierName}</p></div><span className={`px-2 py-1 rounded-full text-xs font-medium ${sc.color}`}>{sc.label}</span></div><div className=\"flex items-center justify-between text-sm\"><span className=\"text-slate-500\">{po.createdDate}</span><span className=\"font-bold text-slate-800\">${po.total.toFixed(2)}</span></div></div>); })}</div>{selectedPO ? (<div className=\"lg:col-span-2 bg-white rounded-xl border border-slate-200 overflow-hidden\"><div className=\"p-4 border-b border-slate-100 bg-slate-50 flex items-center justify-between\"><div><h2 className=\"text-xl font-bold text-slate-800\">{selectedPO.poNumber}</h2><p className=\"text-slate-500\">{selectedPO.supplierName}</p></div><div className=\"flex gap-2\">{selectedPO.status === 'draft' && <button onClick={() => setPurchaseOrders(prev => prev.map(p => p.id === selectedPO.id ? { ...p, status: 'submitted' as POStatus } : p))} className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\">Submit</button>}{selectedPO.status === 'submitted' && role === 'admin' && <button onClick={() => handleApprovePO(selectedPO.id)} className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600\">Approve</button>}{selectedPO.status === 'approved' && <button onClick={() => handleReceivePO(selectedPO.id)} className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\">Receive</button>}</div></div><div className=\"p-4 space-y-4\"><div className=\"grid grid-cols-3 gap-4\"><div className=\"p-3 bg-slate-50 rounded-lg\"><p className=\"text-sm text-slate-500\">Created</p><p className=\"font-medium text-slate-800\">{selectedPO.createdDate}</p></div><div className=\"p-3 bg-slate-50 rounded-lg\"><p className=\"text-sm text-slate-500\">Expected</p><p className=\"font-medium text-slate-800\">{selectedPO.expectedDate || '-'}</p></div><div className=\"p-3 bg-slate-50 rounded-lg\"><p className=\"text-sm text-slate-500\">Received</p><p className=\"font-medium text-slate-800\">{selectedPO.receivedDate || '-'}</p></div></div><div><h4 className=\"font-medium text-slate-800 mb-2\">Items</h4><table className=\"w-full\"><thead className=\"bg-slate-50\"><tr><th className=\"px-3 py-2 text-left text-xs font-medium text-slate-500\">Part</th><th className=\"px-3 py-2 text-right text-xs font-medium text-slate-500\">Qty</th><th className=\"px-3 py-2 text-right text-xs font-medium text-slate-500\">Cost</th><th className=\"px-3 py-2 text-right text-xs font-medium text-slate-500\">Total</th></tr></thead><tbody className=\"divide-y divide-slate-100\">{selectedPO.items.map((it, i) => (<tr key={i}><td className=\"px-3 py-2 text-slate-800\">{it.partName}</td><td className=\"px-3 py-2 text-right text-slate-700\">{it.qty}</td><td className=\"px-3 py-2 text-right text-slate-700\">${it.unitCost.toFixed(2)}</td><td className=\"px-3 py-2 text-right font-medium text-slate-800\">${(it.qty * it.unitCost).toFixed(2)}</td></tr>))}</tbody></table></div><div className=\"border-t border-slate-100 pt-4 flex justify-end\"><div className=\"w-48 space-y-1\"><div className=\"flex justify-between text-sm\"><span className=\"text-slate-500\">Subtotal</span><span className=\"text-slate-700\">${selectedPO.subtotal.toFixed(2)}</span></div><div className=\"flex justify-between text-sm\"><span className=\"text-slate-500\">Tax</span><span className=\"text-slate-700\">${selectedPO.tax.toFixed(2)}</span></div><div className=\"flex justify-between font-bold\"><span className=\"text-slate-800\">Total</span><span className=\"text-slate-800\">${selectedPO.total.toFixed(2)}</span></div></div></div></div></div>) : (<div className=\"lg:col-span-2 bg-white rounded-xl border border-slate-200 flex items-center justify-center h-96\"><div className=\"text-center text-slate-500\"><ShoppingCart className=\"w-12 h-12 mx-auto mb-2 text-slate-300\" /><p>Select a PO</p></div></div>)}</div></div>);\n\n  const SuppliersView = () => (<div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">{SUPPLIERS.map(s => (<div key={s.id} className=\"bg-white rounded-xl border border-slate-200 p-4\"><div className=\"flex items-start justify-between mb-4\"><div><h3 className=\"font-semibold text-slate-800\">{s.name}</h3><p className=\"text-sm text-slate-500\">{s.contact}</p></div><div className=\"p-2 bg-slate-100 rounded-lg\"><Building2 className=\"w-5 h-5 text-slate-600\" /></div></div><div className=\"space-y-2 text-sm\"><p className=\"text-slate-600\">{s.email}</p><p className=\"text-slate-600\">{s.phone}</p><p className=\"text-slate-600\">{s.address}</p></div><div className=\"mt-4 pt-4 border-t border-slate-100 grid grid-cols-2 gap-4\"><div><p className=\"text-xs text-slate-500\">Terms</p><p className=\"font-medium text-slate-800\">{s.terms}</p></div><div><p className=\"text-xs text-slate-500\">Lead Time</p><p className=\"font-medium text-slate-800\">{s.leadTime}</p></div></div></div>))}</div>);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\"><div><h1 className=\"text-2xl font-bold text-slate-800\">Inventory</h1><p className=\"text-slate-500\">Parts, stock, and purchase orders</p></div></div>\n      <div className=\"bg-white rounded-xl border border-slate-200 p-1 inline-flex flex-wrap gap-1\">{[{ id: 'catalog', label: 'Parts', icon: <Package className=\"w-4 h-4\" /> }, { id: 'truck_stock', label: 'Truck Stock', icon: <Truck className=\"w-4 h-4\" /> }, { id: 'purchase_orders', label: 'POs', icon: <ShoppingCart className=\"w-4 h-4\" />, badge: pendingPOs }, { id: 'suppliers', label: 'Suppliers', icon: <Building2 className=\"w-4 h-4\" /> }].map((v) => (<button key={v.id} onClick={() => setViewMode(v.id as ViewMode)} className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${viewMode === v.id ? 'bg-orange-100 text-orange-700' : 'text-slate-600 hover:text-slate-800'}`}>{v.icon}{v.label}{v.badge && v.badge > 0 && <span className=\"px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full\">{v.badge}</span>}</button>))}</div>\n      {viewMode === 'catalog' && <CatalogView />}\n      {viewMode === 'truck_stock' && <TruckStockView />}\n      {viewMode === 'purchase_orders' && <POView />}\n      {viewMode === 'suppliers' && <SuppliersView />}\n      {showAddPart && (<div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"><div className=\"bg-white rounded-2xl w-full max-w-lg mx-4\"><div className=\"p-4 border-b border-slate-200 flex items-center justify-between\"><h3 className=\"font-semibold text-slate-800\">Add Part</h3><button onClick={() => setShowAddPart(false)} className=\"p-2 hover:bg-slate-100 rounded-lg\"><X className=\"w-5 h-5 text-slate-600\" /></button></div><div className=\"p-4 space-y-4\"><div className=\"grid grid-cols-2 gap-4\"><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">SKU</label><input type=\"text\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Category</label><select className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\">{Object.entries(CAT_CONF).map(([k, c]) => (<option key={k} value={k}>{c.label}</option>))}</select></div></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Name</label><input type=\"text\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div><div className=\"grid grid-cols-2 gap-4\"><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Unit Cost</label><input type=\"number\" step=\"0.01\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Sell Price</label><input type=\"number\" step=\"0.01\" className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div></div><div className=\"flex gap-3\"><button onClick={() => setShowAddPart(false)} className=\"flex-1 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50\">Cancel</button><button onClick={() => { setShowAddPart(false); alert('Added!'); }} className=\"flex-1 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\">Add</button></div></div></div></div>)}\n      {showCreatePO && (<div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"><div className=\"bg-white rounded-2xl w-full max-w-lg mx-4\"><div className=\"p-4 border-b border-slate-200 flex items-center justify-between\"><h3 className=\"font-semibold text-slate-800\">Create PO</h3><button onClick={() => setShowCreatePO(false)} className=\"p-2 hover:bg-slate-100 rounded-lg\"><X className=\"w-5 h-5 text-slate-600\" /></button></div><div className=\"p-4 space-y-4\"><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Supplier</label><select className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\">{SUPPLIERS.map(s => (<option key={s.id} value={s.id}>{s.name}</option>))}</select></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Part</label><select className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\">{parts.map(p => (<option key={p.id} value={p.id}>{p.name} - ${p.unitCost}</option>))}</select></div><div><label className=\"block text-sm font-medium text-slate-700 mb-1\">Quantity</label><input type=\"number\" defaultValue={25} className=\"w-full px-4 py-2 border border-slate-200 rounded-lg\" /></div><div className=\"flex gap-3\"><button onClick={() => setShowCreatePO(false)} className=\"flex-1 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50\">Cancel</button><button onClick={() => { setShowCreatePO(false); alert('PO Created!'); }} className=\"flex-1 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\">Create</button></div></div></div></div>)}\n    </div>\n  );\n};\n\nexport default Inventory;"
  }
}